name: 'Purge Workflows'

description: 'Purge old workflow runs based on time and/or name'

author: Irkode

inputs:
  keep:
    description: 'Number of days to keep'
    mandatory: false
    default: '90'
  workflow:
    description: 'Name of workflow (leave blank to purge all)'
    mandatory: false
    default: ''
  token: 
    description: 'Personal access token'
    default: ${{ github.token }}
    mandatory: false
  owner: 
    description: 'Repository owner'
    default: ${{ github.repository_owner }}
    mandatory: false
  repo:
    description: 'Repository name'
    default: ${{ github.event.repository.name }}
    mandatory: false

outputs:
  deleted:
    description: 'Number of runs successfully purged.'

runs:
  using: 'node12'
  main: 'dist/index.js'
